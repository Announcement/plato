#!/usr/bin/env node

var minimist = require('minimist');

var cli = require('../dist/cli').default;

var args = minimist(process.argv.slice(2));

var command = args._.shift() || 'default';

if (command === 'default' && (args.h || args.help)) command = 'help';

cli.run(command, [{args : args}], function(err, input, output){
  if (err) {
    //if (err.stack) console.log(err.stack);
    console.log(err.toString());
    console.log('not ok: plato exited with error');
    return;
  }
  
  console.log('\nok');
});

